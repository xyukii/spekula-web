(()=>{var e,t={356:(e,t,s)=>{"use strict";const r=window.wp.i18n,a=window.wp.blocks,i=window.React,o=window.wp.components;var l=s(663);const n=window.wp.element,d=window.lodash,p=(0,window.wp.compose.withInstanceId)((function({label:e,selected:t,help:s,instanceId:r,onChange:a,disabled:l,options:n=[]}){const p=`inspector-radio-image-control-${r}`,u=e=>a(e.target.value);return!(0,d.isEmpty)(n)&&(0,i.createElement)(o.BaseControl,{label:e,id:p,help:s,className:"components-radio-image-control feedzy-template"},(0,i.createElement)("div",{className:"components-radio-image-control__container"},n.map(((e,r)=>(0,i.createElement)("div",{key:`${p}-${r}`,className:"components-radio-image-control__option"},(0,i.createElement)("input",{id:`${p}-${r}`,className:"components-radio-image-control__input",type:"radio",name:p,value:e.value,onChange:u,checked:e.value===t,"aria-describedby":s?`${p}__help`:void 0,disabled:l}),(0,i.createElement)("label",{htmlFor:`${p}-${r}`,title:e.label},(0,i.createElement)("img",{src:e.src}),(0,i.createElement)("span",{className:"image-clickable"})),(0,i.createElement)("span",null,e.label))))))}));var u=s(485),c=s.n(u);const f=window.wp.hooks,m=window.wp.blockEditor;function h({imageValue:e,onChangeImage:t,onRemoveImage:s,label:a=(0,r.__)("Fallback image if no image is found.","feedzy-rss-feeds")}){const l=()=>{s()};return(0,i.createElement)("div",{className:"feedzy-blocks-base-control"},(0,i.createElement)("label",{className:"blocks-base-control__label",htmlFor:"inspector-media-upload"},a),(0,i.createElement)(m.MediaUpload,{type:"image",id:"inspector-media-upload",value:e,onSelect:e=>{const s={url:e.url,width:e.width,height:e.height,id:e.id};t(s)},render:({open:t})=>(0,i.createElement)(n.Fragment,null,void 0!==e&&(0,i.createElement)(o.ResponsiveWrapper,{naturalWidth:e.width,naturalHeight:e.height},(0,i.createElement)("img",{src:e.url,alt:(0,r.__)("Featured image","feedzy-rss-feeds")})),(0,i.createElement)(o.__experimentalHStack,null,void 0!==e&&(0,i.createElement)(o.Button,{isLarge:!0,isSecondary:!0,onClick:l,style:{marginTop:"10px"}},(0,r.__)("Remove Image","feedzy-rss-feeds")),(0,i.createElement)(o.Button,{isLarge:!0,isPrimary:!0,onClick:t,style:{marginTop:"10px"},className:void 0===e&&"feedzy_image_upload"},(0,r.__)("Upload Image","feedzy-rss-feeds"))))}))}class y extends n.Component{constructor(){super(...arguments),this.state={tab:"content"}}render(){const e=(0,f.applyFilters)("feedzy_widget_refresh_feed",[{label:(0,r.__)("1 Hour","feedzy-rss-feeds"),value:"1_hours"},{label:(0,r.__)("2 Hours","feedzy-rss-feeds"),value:"3_hours"},{label:(0,r.__)("12 Hours","feedzy-rss-feeds"),value:"12_hours"},{label:(0,r.__)("1 Day","feedzy-rss-feeds"),value:"1_days"},{label:(0,r.__)("3 Days","feedzy-rss-feeds"),value:"3_days"},{label:(0,r.__)("15 Days","feedzy-rss-feeds"),value:"15_days"}]),t=e=>{if("string"!=typeof e)return e;const t=document.createElement("textarea");return t.innerHTML=e,t.value};return(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.PanelBody,{className:"fz-section-header-panel"},(0,i.createElement)(o.Button,{className:c()("header-tab",{"is-selected":"content"===this.state.tab}),onClick:()=>this.setState({tab:"content"})},(0,i.createElement)("span",null,(0,i.createElement)(o.Dashicon,{icon:"editor-table"}),(0,r.__)("Content","feedzy-rss-feeds"))),(0,i.createElement)(o.Button,{className:c()("header-tab",{"is-selected":"style"===this.state.tab}),onClick:()=>this.setState({tab:"style"})},(0,i.createElement)("span",null,(0,i.createElement)(o.Dashicon,{icon:"admin-customizer"}),(0,r.__)("Style","feedzy-rss-feeds"))),(0,i.createElement)(o.Button,{className:c()("header-tab",{"is-selected":"advanced"===this.state.tab}),onClick:()=>this.setState({tab:"advanced"})},(0,i.createElement)("span",null,(0,i.createElement)(o.Dashicon,{icon:"admin-generic"}),(0,r.__)("Advanced","feedzy-rss-feeds")))),"content"===this.state.tab&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.PanelBody,{title:(0,r.__)("General","feedzy-rss-feeds"),initialOpen:!0},0!==this.props.attributes.status&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.TextControl,{label:(0,r.__)("Feed Source","feedzy-rss-feeds"),className:"feedzy-source",value:this.props.attributes.feeds,onChange:this.props.edit.onChangeFeed}),(0,i.createElement)(o.Button,{isLarge:!0,isPrimary:!0,type:"submit",onClick:this.props.edit.loadFeed,className:"loadFeed"},(0,r.__)("Load Feed","feedzy-rss-feeds"))),"fetched"===this.props.state.route&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.RangeControl,{label:(0,r.__)("Number of Items","feedzy-rss-feeds"),value:Number(this.props.attributes.max)||5,onChange:this.props.edit.onChangeMax,min:1,max:this.props.attributes.feedData.items.length||10,beforeIcon:"sort",className:"feedzy-max"}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Sorting Order","feedzy-rss-feeds"),value:this.props.attributes.sort,options:[{label:(0,r.__)("Default","feedzy-rss-feeds"),value:"default"},{label:(0,r.__)("Date Descending","feedzy-rss-feeds"),value:"date_desc"},{label:(0,r.__)("Date Ascending","feedzy-rss-feeds"),value:"date_asc"},{label:(0,r.__)("Title Descending","feedzy-rss-feeds"),value:"title_desc"},{label:(0,r.__)("Title Ascending","feedzy-rss-feeds"),value:"title_asc"}],onChange:this.props.edit.onSort,className:"feedzy-sort"}))),(0,i.createElement)(o.PanelBody,{title:(0,r.__)("Item Options","feedzy-rss-feeds"),initialOpen:!1,className:"feedzy-item-options"},(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Display item Title","feedzy-rss-feeds"),checked:!!this.props.attributes.itemTitle,onChange:this.props.edit.onToggleItemTitle,className:"feedzy-summary"}),this.props.attributes.itemTitle&&(0,i.createElement)(o.TextControl,{label:(0,r.__)("Title Character Limit","feedzy-rss-feeds"),help:(0,r.__)("Leave empty to show full title. A value of 0 will remove the title.","feedzy-rss-feeds"),type:"number",value:this.props.attributes.title,onChange:this.props.edit.onTitle,className:"feedzy-title-length"}),(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Display post description?","feedzy-rss-feeds"),checked:!!this.props.attributes.summary,onChange:this.props.edit.onToggleSummary,className:"feedzy-summary"}),this.props.attributes.summary&&(0,i.createElement)(o.TextControl,{label:(0,r.__)("Description Character Limit","feedzy-rss-feeds"),help:(0,r.__)("Leave empty to show full description.","feedzy-rss-feeds"),type:"number",value:this.props.attributes.summarylength,onChange:this.props.edit.onSummaryLength,className:"feedzy-summary-length",min:0})),(0,i.createElement)(o.PanelBody,{title:[(0,r.__)("Filter items","feedzy-rss-feeds")],initialOpen:!1,className:"feedzy-item-filter"},!window.feedzyjs.isPro&&(0,i.createElement)("div",{className:"fz-upsell-notice"},(0,r.__)("Unlock more advanced options with","feedzy-rss-feeds")," ",(0,i.createElement)(o.ExternalLink,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=keywordsfilter&utm_content=feedzy-rss-feeds"},(0,r.__)("Feedzy Pro","feedzy-rss-feeds"))),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Only display if selected field contains:","feedzy-rss-feeds"),help:(0,r.__)("Use comma(,) and plus(+) keyword","feedzy-rss-feeds"),value:this.props.attributes.keywords_title,onChange:this.props.edit.onKeywordsTitle,className:"feedzy-include"}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Select a field if you want to inc keyword.","feedzy-rss-feeds"),value:this.props.attributes.keywords_inc_on,options:[{label:(0,r.__)("Title","feedzy-rss-feeds"),value:"title"},{label:(0,r.__)("Author","feedzy-rss-feeds"),value:"author",disabled:!window.feedzyjs.isPro},{label:(0,r.__)("Description","feedzy-rss-feeds"),value:"description",disabled:!window.feedzyjs.isPro}],onChange:this.props.edit.onKeywordsIncludeOn}),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Exclude if selected field contains:","feedzy-rss-feeds"),help:(0,r.__)("Use comma(,) and plus(+) keyword","feedzy-rss-feeds"),value:this.props.attributes.keywords_ban,onChange:this.props.edit.onKeywordsBan,className:"feedzy-ban"}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Select a field if you want to exc keyword.","feedzy-rss-feeds"),value:this.props.attributes.keywords_exc_on,options:[{label:(0,r.__)("Title","feedzy-rss-feeds"),value:"title"},{label:(0,r.__)("Author","feedzy-rss-feeds"),value:"author",disabled:!window.feedzyjs.isPro},{label:(0,r.__)("Description","feedzy-rss-feeds"),value:"description",disabled:!window.feedzyjs.isPro}],onChange:this.props.edit.onKeywordsExcludeOn}),(0,i.createElement)("div",{className:window.feedzyjs.isPro?"":"fz-locked"},(0,i.createElement)("p",{className:"fz-main-label"},(0,r.__)("Filter feed item by date range.","feedzy-rss-feeds")),(0,i.createElement)(o.TextControl,{type:"datetime-local",label:(0,r.__)("From:","feedzy-rss-feeds"),value:this.props.attributes.from_datetime,onChange:this.props.edit.onFromDateTime}),(0,i.createElement)(o.TextControl,{type:"datetime-local",label:(0,r.__)("To:","feedzy-rss-feeds"),value:this.props.attributes.to_datetime,onChange:this.props.edit.onToDateTime})))),"fetched"===this.props.state.route&&"style"===this.state.tab&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.PanelBody,{title:(0,r.__)("Item Image Options","feedzy-rss-feeds"),initialOpen:!0,className:"feedzy-image-options"},(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Display first image if available?","feedzy-rss-feeds"),value:this.props.attributes.thumb,options:[{label:(0,r.__)("Yes (without a fallback image)","feedzy-rss-feeds"),value:"auto"},{label:(0,r.__)("Yes (with a fallback image)","feedzy-rss-feeds"),value:"yes"},{label:(0,r.__)("No","feedzy-rss-feeds"),value:"no"}],onChange:this.props.edit.onThumb,className:"feedzy-thumb"}),"no"!==this.props.attributes.thumb&&(0,i.createElement)(n.Fragment,null,"auto"!==this.props.attributes.thumb&&(0,i.createElement)(h,{imageValue:this.props.attributes.default,onChangeImage:this.props.edit.onDefault,onRemoveImage:()=>this.props.edit.onDefault(void 0),label:(0,r.__)("Fallback image if no image is found.","feedzy-rss-feeds")}),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Thumbnails dimension.","feedzy-rss-feeds"),type:"number",value:this.props.attributes.size,onChange:this.props.edit.onSize}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Aspect Ratio","feedzy-rss-feeds"),value:this.props.attributes.aspectRatio,options:[{label:(0,r.__)("Original","feedzy-rss-feeds"),value:"auto"},{label:(0,r.__)("1:1 (Square)","feedzy-rss-feeds"),value:"1"},{label:(0,r.__)("4:3 (Standard)","feedzy-rss-feeds"),value:"4/3"},{label:(0,r.__)("3:4 (Portrait)","feedzy-rss-feeds"),value:"3/4"},{label:(0,r.__)("3:2 (Classic)","feedzy-rss-feeds"),value:"3 / 2"},{label:(0,r.__)("2:3 (Clasic Portrait)","feedzy-rss-feeds"),value:"2/3"},{label:(0,r.__)("16:9 (Widescreen)","feedzy-rss-feeds"),value:"16/9"},{label:(0,r.__)("9:16 (Vertical)","feedzy-rss-feeds"),value:"9/16"}],onChange:this.props.edit.onAspectRatio,className:"feedzy-aspect-ratio-select"})),(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Disable default style?","feedzy-rss-feeds"),checked:!!this.props.attributes.disableStyle,onChange:this.props.edit.onToggleDisableStyle,className:"feedzy-summary",help:(0,r.__)("If disabled, it will be considered the global setting.","feedzy-rss-feeds")})),(0,i.createElement)(o.PanelBody,{title:[(0,r.__)("Feed Layout","feedzy-rss-feeds"),!window.feedzyjs.isPro&&(0,i.createElement)("span",{className:"fz-pro-label"},"Pro")],initialOpen:!1,className:window.feedzyjs.isPro?"feedzy-layout":"feedzy-layout fz-locked"},!window.feedzyjs.isPro&&(0,i.createElement)("div",{className:"fz-upsell-notice"},(0,r.__)("Unlock this feature and more advanced options with","feedzy-rss-feeds")," ",(0,i.createElement)(o.ExternalLink,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=layouts&utm_content=feedzy-rss-feeds"},(0,r.__)("Feedzy Pro","feedzy-rss-feeds"))),(0,i.createElement)(o.RangeControl,{label:(0,r.__)("Columns","feedzy-rss-feeds"),help:(0,r.__)("How many columns we should use to display the feed items?","feedzy-rss-feeds"),value:this.props.attributes.columns||1,onChange:this.props.edit.onColumns,min:1,max:6,beforeIcon:"sort",allowReset:!0}),(0,i.createElement)(p,{label:(0,r.__)("Template","feedzy-rss-feeds"),selected:this.props.attributes.template,options:[{label:(0,r.__)("Default","feedzy-rss-feeds"),src:window.feedzyjs.imagepath+"feedzy-default-template.png",value:"default"},{label:(0,r.__)("Round","feedzy-rss-feeds"),src:window.feedzyjs.imagepath+"feedzy-style1-template.png",value:"style1"},{label:(0,r.__)("Cards","feedzy-rss-feeds"),src:window.feedzyjs.imagepath+"feedzy-style2-template.png",value:"style2"}],onChange:this.props.edit.onTemplate}))),"fetched"===this.props.state.route&&"advanced"===this.state.tab&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)(o.PanelBody,{title:(0,r.__)("Feed Items Custom Options","feedzy-rss-feeds"),className:"feedzy-advanced-options",initialOpen:!0},(0,i.createElement)(o.BaseControl,null,(0,i.createElement)(o.TextControl,{label:(0,r.__)("Meta fields to show","feedzy-rss-feeds"),help:(0,r.sprintf)(
//translators: %s: the keyword for the user to introduce.
//translators: %s: the keyword for the user to introduce.
(0,r.__)('Leave empty to display all and "%s" to display nothing.',"feedzy-rss-feeds"),"no"),placeholder:t("("+(0,r.sprintf)(
// translators: %s is the list of examples.
// translators: %s is the list of examples.
(0,r.__)("eg: %s","feedzy-rss-feeds"),window.feedzyjs.isPro?"author, date, time, tz=local, categories":"author, date, time, tz=local")+")"),value:this.props.attributes.metafields,onChange:this.props.edit.onChangeMeta,className:"feedzy-meta"}),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Meta fields for sources.","feedzy-rss-feeds"),placeholder:t("("+(0,r.sprintf)(
// translators: %s is the list of examples.
// translators: %s is the list of examples.
(0,r.__)("eg: %s","feedzy-rss-feeds"),"source")+")"),value:this.props.attributes.multiple_meta,onChange:this.props.edit.onChangeMultipleMeta,className:"feedzy-multiple-meta"})),(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Display price if available?","feedzy-rss-feeds"),help:this.props.attributes.price&&"default"===this.props.attributes.template?(0,r.__)("Choose a different template for this to work.","feedzy-rss-feeds"):null,checked:!!this.props.attributes.price,onChange:this.props.edit.onTogglePrice,className:window.feedzyjs.isPro?"feedzy-pro-price":"feedzy-pro-price fz-locked"}),null!==this.props.attributes.feedData.channel&&(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Display feed title?","feedzy-rss-feeds"),checked:!!this.props.attributes.feed_title,onChange:this.props.edit.onToggleFeedTitle,className:"feedzy-title"}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Open Links In","feedzy-rss-feeds"),value:this.props.attributes.target,options:[{label:(0,r.__)("New Tab","feedzy-rss-feeds"),value:"_blank"},{label:(0,r.__)("Same Tab","feedzy-rss-feeds"),value:"_self"}],onChange:this.props.edit.onTarget}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)('Make this link a "nofollow" link?',"feedzy-rss-feeds"),value:this.props.attributes.follow,options:[{label:(0,r.__)("No","feedzy-rss-feeds"),value:"no"},{label:(0,r.__)("Yes","feedzy-rss-feeds"),value:"yes"}],onChange:this.props.edit.onLinkNoFollow}),(0,i.createElement)(o.RangeControl,{label:(0,r.__)("Ignore first N items","feedzy-rss-feeds"),value:Number(this.props.attributes.offset)||0,onChange:this.props.edit.onChangeOffset,min:0,max:this.props.attributes.feedData.items.length,beforeIcon:"sort",className:"feedzy-offset"}),(0,i.createElement)(o.ToggleControl,{label:(0,r.__)("Lazy load feed?","feedzy-rss-feeds"),checked:!!this.props.attributes.lazy,onChange:this.props.edit.onToggleLazy,className:"feedzy-lazy",help:(0,r.__)("Only on the front end.","feedzy-rss-feeds")})),(0,i.createElement)(o.PanelBody,{title:[(0,r.__)("Referral URL","feedzy-rss-feeds"),!window.feedzyjs.isPro&&(0,i.createElement)("span",{className:"fz-pro-label"},"Pro")],initialOpen:!1,className:window.feedzyjs.isPro?"feedzy-pro-options":"feedzy-pro-options fz-locked"},!window.feedzyjs.isPro&&(0,i.createElement)("div",{className:"fz-upsell-notice"},(0,r.__)("Unlock this feature and more advanced options with","feedzy-rss-feeds")," ",(0,i.createElement)(o.ExternalLink,{href:"https://themeisle.com/plugins/feedzy-rss-feeds/upgrade/?utm_source=wpadmin&utm_medium=blockeditor&utm_campaign=refferal&utm_content=feedzy-rss-feeds"},(0,r.__)("Feedzy Pro","feedzy-rss-feeds"))),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Referral URL parameters.","feedzy-rss-feeds"),help:(0,r.__)('Without ("?")',"feedzy-rss-feeds"),placeholder:t("("+(0,r.sprintf)(
// translators: %s is the list of examples.
// translators: %s is the list of examples.
(0,r.__)("eg: %s","feedzy-rss-feeds"),"promo_code=feedzy_is_awesome")+")"),value:this.props.attributes.referral_url,onChange:this.props.edit.onReferralURL})),(0,i.createElement)(o.PanelBody,{title:(0,r.__)("Additional options","feedzy-rss-feeds"),initialOpen:!1,className:"feedzy-additional-options"},(0,i.createElement)(o.TextControl,{label:(0,r.__)("Wrap custom class","feedzy-rss-feeds"),value:this.props.attributes.className,onChange:this.props.edit.onclassName}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Dry run?","feedzy-rss-feeds"),value:this.props.attributes._dryrun_,options:[{label:(0,r.__)("No","feedzy-rss-feeds"),value:"no"},{label:(0,r.__)("Yes","feedzy-rss-feeds"),value:"yes"}],onChange:this.props.edit.onDryRun}),(0,i.createElement)(o.TextControl,{label:(0,r.__)("Dry run tags","feedzy-rss-feeds"),value:this.props.attributes._dry_run_tags_,onChange:this.props.edit.onDryRunTags}),(0,i.createElement)(o.TextareaControl,{label:(0,r.__)("Message to show when feed is empty","feedzy-rss-feeds"),value:this.props.attributes.error_empty,onChange:this.props.edit.onErrorEmpty}),(0,i.createElement)(o.SelectControl,{label:(0,r.__)("Feed Caching Time","feedzy-rss-feeds"),value:this.props.attributes.refresh,options:e,onChange:this.props.edit.onRefresh,className:"feedzy-refresh"}))))}}const b=y,g=window.wp.apiFetch;var _=s.n(g);const z=e=>{const t=document.createElement("div");return t.innerHTML=e,void 0!==t.innerText?t.innerText:t.textContent},w=(e,t)=>{if(void 0===t)return!1;let s=!1;for(let r=0;r<t.length;r++)if(t[r]===e){s=!0;break}return s},v=(e="")=>{let t="",s=[];return""!==e&&e.replace(/[^a-zA-Z]/g,"").length<=500&&(e.split(",").forEach((e=>{""!==(e=e.trim())&&(e=e.split("+").map((e=>"(?=.*"+(e=e.trim())+")")),s.push(e.join("")))})),t=s.join("|"),t="^"+t+".*$",t=new RegExp(t,"i")),t};class E extends n.Component{constructor(){super(...arguments),this.loadFeed=this.loadFeed.bind(this),this.loadCategories=this.loadCategories.bind(this),this.metaExists=this.metaExists.bind(this),this.multipleMetaExists=this.multipleMetaExists.bind(this),this.getImageURL=this.getImageURL.bind(this),this.getValidateURL=this.getValidateURL.bind(this),this.onChangeFeed=this.onChangeFeed.bind(this),this.onChangeMax=this.onChangeMax.bind(this),this.onChangeOffset=this.onChangeOffset.bind(this),this.onToggleFeedTitle=this.toggleFeedTitle.bind(this),this.onRefresh=this.onRefresh.bind(this),this.onSort=this.onSort.bind(this),this.onTarget=this.onTarget.bind(this),this.onTitle=this.onTitle.bind(this),this.onChangeMeta=this.onChangeMeta.bind(this),this.onChangeMultipleMeta=this.onChangeMultipleMeta.bind(this),this.onToggleSummary=this.toggleSummary.bind(this),this.onToggleLazy=this.onToggleLazy.bind(this),this.onSummaryLength=this.onSummaryLength.bind(this),this.onKeywordsTitle=this.onKeywordsTitle.bind(this),this.onKeywordsBan=this.onKeywordsBan.bind(this),this.onThumb=this.onThumb.bind(this),this.onDefault=this.onDefault.bind(this),this.onSize=this.onSize.bind(this),this.onAspectRatio=this.onAspectRatio.bind(this),this.onReferralURL=this.onReferralURL.bind(this),this.onColumns=this.onColumns.bind(this),this.onTemplate=this.onTemplate.bind(this),this.onTogglePrice=this.togglePrice.bind(this),this.onKeywordsIncludeOn=this.onKeywordsIncludeOn.bind(this),this.onKeywordsExcludeOn=this.onKeywordsExcludeOn.bind(this),this.onFromDateTime=this.onFromDateTime.bind(this),this.onToDateTime=this.onToDateTime.bind(this),this.feedzyCategoriesList=this.feedzyCategoriesList.bind(this),this.onToggleItemTitle=this.toggleItemTitle.bind(this),this.onToggleDisableStyle=this.toggleDisableStyle.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.onLinkNoFollow=this.onLinkNoFollow.bind(this),this.onErrorEmpty=this.onErrorEmpty.bind(this),this.onclassName=this.onclassName.bind(this),this.onDryRun=this.onDryRun.bind(this),this.onDryRunTags=this.onDryRunTags.bind(this),this.state={route:this.props.attributes.route,loading:!1,validationResults:[]}}async componentDidMount(){this.loadFeed(),void 0===this.props.attributes.categories&&(this.props.attributes.meta||this.props.setAttributes({meta:!0,metafields:"no"}),setTimeout((()=>{this.loadCategories()})))}async componentDidUpdate(){"reload"===this.state.route&&this.loadFeed()}async loadFeed(){const e=this.props.attributes.feeds;if(void 0!==e)if(this.setState({route:"home",loading:!0,validationResults:[]}),w(e,this.props.attributes.categories))this.loadFeedData(e);else try{const t=new FormData;t.append("action","feedzy_validate_feed"),t.append("feed_url",e),t.append("nonce",window.feedzyjs?.nonce);const s=await fetch(window.feedzyjs?.url,{method:"POST",body:t}),a=await s.json();if(a.success&&a.data?.results){const t=a.data.results;this.setState({validationResults:t,loading:!1}),t.some((e=>"error"===e.status))||this.loadFeedData(e)}else a.success||this.setState({validationResults:[{status:"error",message:a.data?.message||(0,r.__)("Validation failed","feedzy-rss-feeds")}],loading:!1})}catch(e){this.setState({validationResults:[{status:"error",message:(0,r.__)("Failed to validate feed. Please check your connection and try again.","feedzy-rss-feeds")}],loading:!1})}}loadFeedData(e){if(w(e,this.props.attributes.categories)){const t=e;e=l.stringify({category:t},{arrayFormat:"bracket"})}else e=e.replace(/\s/g,"").split(",").filter((e=>""!==e)),e=l.stringify({url:e},{arrayFormat:"bracket"});_()({path:`/feedzy/v1/feed?${e}`,method:"POST",data:this.props.attributes}).then((e=>this.unmounting?e:e.error?(this.setState({route:"home",loading:!1,validationResults:[{status:"error",message:e.message||(0,r.__)("Feed URL is invalid or unreachable","feedzy-rss-feeds")}]}),e):(this.props.setAttributes({feedData:e}),this.setState({route:"fetched",loading:!1,validationResults:[]}),e))).catch((e=>(this.setState({route:"home",loading:!1,validationResults:[{status:"error",message:(0,r.__)("Error loading feed. Please check your feed URL and try again.","feedzy-rss-feeds")}]}),e)))}loadCategories(){_()({path:"/wp/v2/feedzy_categories?per_page=100"}).then((e=>{if(this.unmounting)return e;let t=0;const s=[];e.forEach((e=>{s[t]=e.slug,t+=1}));const r=this;r.props.setAttributes({categories:s});const a=window.jQuery('iframe[name="editor-canvas"]');let i=window.jQuery(".feedzy-source input");a.length>0&&(i=window.jQuery(".feedzy-source input",a.contents())),i.autocomplete({disabled:!1}).autocomplete({classes:{"ui-autocomplete":"feedzy-ui-autocomplete"},source:s,minLength:0,select(e,t){r.props.setAttributes({feeds:t.item.label})}})})).catch((e=>{window.console.error(e)}))}metaExists(e){return 0<=this.props.attributes.metafields.replace(/\s/g,"").split(",").indexOf(e)||""===this.props.attributes.metafields}multipleMetaExists(e){return 0<=this.props.attributes.multiple_meta.replace(/\s/g,"").split(",").indexOf(e)||""===this.props.attributes.multiple_meta}getImageURL(e,t){let s;return s=e.thumbnail&&"auto"===this.props.attributes.thumb?e.thumbnail:this.props.attributes.default?this.props.attributes.default.url:window.feedzyjs.imagepath+"feedzy.svg",s=s.replace(/http:/g,"https:"),t&&(s='url("'+s+'")'),s}onChangeFeed(e){window.tiTrk?.with("feedzy").set("feedzy-url-feed",{feature:"block-url-feed",featureValue:e}),this.props.setAttributes({feeds:e}),this.setState({validationResults:[]})}onChangeMax(e){this.props.setAttributes({max:e?Number(e):5})}onChangeOffset(e){this.props.setAttributes({offset:Number(e)})}toggleFeedTitle(){this.props.setAttributes({feed_title:!this.props.attributes.feed_title})}onRefresh(e){window.tiTrk?.with("feedzy").set("feedzy-caching",{feature:"block-caching-refresh",featureValue:e}),this.props.setAttributes({refresh:e})}onSort(e){this.props.setAttributes({sort:e})}onTarget(e){this.props.setAttributes({target:e})}onTitle(e){""!==e&&(e=Number(e))<0&&(e=0),this.props.setAttributes({title:e})}onChangeMeta(e){window.tiTrk?.with("feedzy").set("feedzy-meta",{feature:"block-meta-fields",featureValue:e}),this.props.setAttributes({metafields:e})}onChangeMultipleMeta(e){window.tiTrk?.with("feedzy").set("feedzy-multiple-meta",{feature:"block-multiple-meta-fields",featureValue:e}),this.props.setAttributes({multiple_meta:e})}toggleSummary(){this.props.setAttributes({summary:!this.props.attributes.summary})}onToggleLazy(e){window.tiTrk?.with("feedzy").set("feedzy-lazy-loading",{feature:"block-lazy-loading-feed",featureValue:e}),this.props.setAttributes({lazy:!this.props.attributes.lazy})}onSummaryLength(e){this.props.setAttributes({summarylength:Number(e)})}onKeywordsTitle(e){this.props.setAttributes({keywords_title:e})}onKeywordsBan(e){this.props.setAttributes({keywords_ban:e})}onThumb(e){this.props.setAttributes({thumb:e})}onDefault(e){this.props.setAttributes({default:e}),this.setState({route:"reload"})}onSize(e){this.props.setAttributes({size:e?Number(e):150})}onAspectRatio(e){this.props.setAttributes({aspectRatio:e})}onReferralURL(e){window.tiTrk?.with("feedzy").add({feature:"block-referral-url"}),this.props.setAttributes({referral_url:e})}onColumns(e){window.tiTrk?.with("feedzy").set("feedzy-columns",{feature:"block-columns",featureValue:e}),this.props.setAttributes({columns:e})}onTemplate(e){window.tiTrk?.with("feedzy").set("feedzy-template",{feature:"block-template",featureValue:e}),this.props.setAttributes({template:e})}togglePrice(){window.tiTrk?.with("feedzy").set("feedzy-price",{feature:"block-price",featureValue:!this.props.attributes.price}),this.props.setAttributes({price:!this.props.attributes.price})}onKeywordsIncludeOn(e){this.props.setAttributes({keywords_inc_on:e})}onKeywordsExcludeOn(e){this.props.setAttributes({keywords_exc_on:e})}onFromDateTime(e){this.props.setAttributes({from_datetime:e})}onToDateTime(e){this.props.setAttributes({to_datetime:e})}feedzyCategoriesList(){const e=window.jQuery('iframe[name="editor-canvas"]');let t=window.jQuery(".feedzy-source input");e.length>0&&(t=window.jQuery(".feedzy-source input",e.contents())),t.autocomplete({disabled:!1}).autocomplete("search","")}getValidateURL(){let e="https://validator.w3.org/feed/";return this.props.attributes.feeds&&(e+="check.cgi?url="+this.props.attributes.feeds),e}toggleItemTitle(){this.props.setAttributes({itemTitle:!this.props.attributes.itemTitle})}toggleDisableStyle(){this.props.setAttributes({disableStyle:!this.props.attributes.disableStyle})}onLinkNoFollow(e){this.props.setAttributes({follow:e})}onErrorEmpty(e){this.props.setAttributes({error_empty:e})}onclassName(e){this.props.setAttributes({className:e})}onDryRun(e){window.tiTrk?.with("feedzy").add({feature:"block-dry-run"}),this.props.setAttributes({_dryrun_:e})}onDryRunTags(e){window.tiTrk?.with("feedzy").set("feedzy-dry-run-tags",{feature:"block-dry-run-tags",featureValue:e}),this.props.setAttributes({_dry_run_tags_:e})}handleKeyUp(e){13===e.keyCode&&this.loadFeed()}renderValidationResults(){return this.state.validationResults&&0!==this.state.validationResults.length?(0,i.createElement)("div",{className:"feedzy-validation-results"},this.state.validationResults.map(((e,t)=>(0,i.createElement)(o.Notice,{key:`result-${t}`,status:e.status,isDismissible:!1},e.url&&(0,i.createElement)(n.Fragment,null,(0,i.createElement)("strong",null,e.url),(0,i.createElement)("br",null)),e.message)))):null}render(){return(0,i.createElement)(n.Fragment,null,(0,i.createElement)(m.InspectorControls,{key:"inspector"},(0,i.createElement)("div",null,"fetched"===this.state.route&&(0,i.createElement)(b,{edit:this,state:this.state,...this.props}))),"home"===this.state.route&&(0,i.createElement)("div",{className:this.props.className},(0,i.createElement)(o.Placeholder,{key:"placeholder",icon:"rss",label:(0,r.__)("Feedzy RSS Feeds","feedzy-rss-feeds")},this.state.loading?(0,i.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,i.createElement)(o.Spinner,null),(0,i.createElement)("p",null,(0,r.__)("Validating and fetching feed…","feedzy-rss-feeds"))):(0,i.createElement)("div",{style:{display:"flex",flexDirection:"column"}},(0,i.createElement)("div",{style:{display:"flex",flexDirection:"row"}},(0,i.createElement)("div",{className:"feedzy-source-wrap"},(0,i.createElement)(o.TextControl,{type:"url",className:"feedzy-source",placeholder:(0,r.__)("Enter URL or group of your feed here…","feedzy-rss-feeds"),onChange:this.onChangeFeed,onKeyUp:this.handleKeyUp,value:this.props.attributes.feeds}),this.props.attributes.categories&&this.props.attributes.categories.length>0&&(0,i.createElement)("span",{className:"dashicons dashicons-arrow-down-alt2",onClick:this.feedzyCategoriesList})),(0,i.createElement)(o.Button,{isLarge:!0,isPrimary:!0,type:"submit",onClick:this.loadFeed},(0,r.__)("Load Feed","feedzy-rss-feeds"))),this.renderValidationResults(),(0,i.createElement)("p",null,(0,r.__)("Enter the full URL of the feed source you wish to display here, or the name of a group you've created. Also you can add multiple URLs just separate them with a comma. You can manage your groups feed from","feedzy-rss-feeds")," ",(0,i.createElement)("a",{href:"edit.php?post_type=feedzy_categories",title:(0,r.__)("Feedzy Groups","feedzy-rss-feeds"),target:"_blank"},(0,r.__)("here","feedzy-rss-feeds")))))),!("fetched"!==this.state.route||void 0===this.props.attributes.feedData)&&(0,i.createElement)("div",{className:"feedzy-rss"},this.props.attributes.feed_title&&null!==this.props.attributes.feedData.channel&&(0,i.createElement)("div",{className:"rss_header"},(0,i.createElement)("h2",null,(0,i.createElement)(o.Disabled,null,(0,i.createElement)("a",{className:"rss_title",href:this.props.attributes.feedData.channel.link||"#"},z(this.props.attributes.feedData.channel.title))),(0,i.createElement)("span",{className:"rss_description"}," "+z(this.props.attributes.feedData.channel.description)))),(0,i.createElement)("ul",{className:`feedzy-${this.props.attributes.template}`},(e=this.props.attributes.feedData.items,t=this.props.attributes.sort,s=v(this.props.attributes.keywords_title),a=v(this.props.attributes.keywords_ban),l=this.props.attributes.max,d=this.props.attributes.offset,p=this.props.attributes.keywords_inc_on,u=this.props.attributes.keywords_exc_on,c=this.props.attributes.from_datetime,f=this.props.attributes.to_datetime,p="author"===p?"creator":p,u="author"===u?"creator":u,c=""!==c&&void 0!==c&&moment(c).format("X"),f=""!==f&&void 0!==f&&moment(f).format("X"),Array.from(e).sort(((e,s)=>{let r,a;return"date_desc"===t||"date_asc"===t?(r=e.pubDate,a=s.pubDate):"title_desc"!==t&&"title_asc"!==t||(r=e.title.toUpperCase(),a=s.title.toUpperCase()),r<a?"date_desc"===t||"title_desc"===t?1:-1:r>a?"date_desc"===t||"title_desc"===t?-1:1:0})).filter((e=>!s||s.test(e[p]))).filter((e=>!a||!a.test(e[u]))).filter((e=>{let t=e.date+" "+e.time;return t=moment(new Date(t)).format("X"),!c||!f||c<=t&&t<=f})).slice(d,l+d)).map(((e,t)=>{const s=(e.date||"")+" "+(e.time||"")+" UTC +0000";let a=z(e.date)||"",l=z(e.time)||"";const n=z(e.categories)||"";if(this.metaExists("tz=local")){const e=window.moment(s,"MMMM D, YYYY h:mm a [UTC] Z");a=e.format("MMMM D, YYYY"),l=e.format("h:mm A")}let d=e.creator&&this.metaExists("author")?e.creator:"";""!==this.props.attributes.multiple_meta&&"no"!==this.props.attributes.multiple_meta&&((this.multipleMetaExists("source")||this.multipleMetaExists("yes"))&&""!==d&&""!==e.source?d=d+" ("+e.source+")":(this.multipleMetaExists("source")||this.multipleMetaExists("yes"))&&""!==e.source&&(d=e.source)),""!==e.thumbnail||"auto"!==this.props.attributes.thumb||e.default_img?.endsWith("img/feedzy.svg")||(e.thumbnail=e.default_img);const p={};return d&&(p.author=(0,r.__)("by","feedzy-rss-feeds")+" "+d),a&&(p.date=(0,r.sprintf)(
// translators: %s: the date of the imported content.
// translators: %s: the date of the imported content.
(0,r.__)("on %s","feedzy-rss-feeds"),z(a))),l&&(p.time=(0,r.sprintf)(
// translators: %s: the time of the imported content.
// translators: %s: the time of the imported content.
(0,r.__)("at %s","feedzy-rss-feeds"),z(l))),n&&(p.categories=(0,r.sprintf)(
// translators: %s: the category of the imported content.
// translators: %s: the category of the imported content.
(0,r.__)("in %s","feedzy-rss-feeds"),z(n))),(0,i.createElement)("li",{key:t,style:{padding:"15px 0 25px"},className:`rss_item feedzy-rss-col-${this.props.attributes.columns}`},(e.thumbnail&&"auto"===this.props.attributes.thumb||"yes"===this.props.attributes.thumb)&&(0,i.createElement)("div",{className:"rss_image",style:{aspectRatio:this.props.attributes.aspectRatio,height:this.props.attributes.size+"px"}},(0,i.createElement)(o.Disabled,null,(0,i.createElement)("a",{href:e.link,title:z(e.title),style:{aspectRatio:this.props.attributes.aspectRatio,height:this.props.attributes.size+"px"}},(0,i.createElement)("img",{src:this.getImageURL(e,!1),alt:z(e.title),style:{aspectRatio:this.props.attributes.aspectRatio,height:this.props.attributes.size+"px"}})))),(0,i.createElement)("div",{className:"rss_content_wrap"},this.props.attributes.itemTitle&&0!==this.props.attributes.title?(0,i.createElement)("span",{className:"title"},(0,i.createElement)(o.Disabled,null,(0,i.createElement)("a",{href:e.link},this.props.attributes.title&&z(e.title).length>this.props.attributes.title?z(e.title).substring(0,this.props.attributes.title)+"...":z(e.title)))):"",(0,i.createElement)("div",{className:"rss_content"},"no"!==this.props.attributes.metafields&&(0,i.createElement)("small",{className:"meta"},((e,t)=>{let s="";""===t&&(t="author, date, time");let r=t.replace(/\s/g,"").split(",");for(let t=0;t<r.length;t++)void 0!==e[r[t]]&&(s=s+" "+e[r[t]]);return s})(p,this.props.attributes.metafields)),this.props.attributes.summary&&(0,i.createElement)("p",{className:"description"},this.props.attributes.summarylength&&z(e.description).length>this.props.attributes.summarylength?z(e.description).substring(0,this.props.attributes.summarylength)+" [...]":z(e.description)),window.feedzyjs.isPro&&e.media&&e.media.src&&(0,i.createElement)("audio",{controls:!0,controlsList:"nodownload"},(0,i.createElement)("source",{src:e.media.src,type:e.media.type}),(0,r.__)("Your browser does not support the audio element. But you can check this for the original link:","feedzy-rss-feeds")," ",(0,i.createElement)("a",{href:e.media.src},e.media.src)),window.feedzyjs.isPro&&this.props.attributes.price&&e.price&&"default"!==this.props.attributes.template&&(0,i.createElement)("div",{className:"price-wrap"},(0,i.createElement)("a",null,(0,i.createElement)("button",{className:"price"},e.price))))))})))));var e,t,s,a,l,d,p,u,c,f}}const k=E;(0,a.registerBlockType)("feedzy-rss-feeds/feedzy-block",{title:(0,r.__)("Feedzy RSS Feeds (Classic)","feedzy-rss-feeds"),category:"common",icon:"rss",keywords:[(0,r.__)("Feedzy RSS Feeds","feedzy-rss-feeds"),(0,r.__)("RSS","feedzy-rss-feeds"),(0,r.__)("Feeds","feedzy-rss-feeds")],supports:{html:!1},attributes:{feeds:{type:"string"},max:{type:"number",default:5},offset:{type:"number",default:0},feed_title:{type:"boolean",default:!0},refresh:{type:"string",default:"12_hours"},sort:{type:"string",default:"default"},target:{type:"string",default:"_blank"},title:{type:"number"},meta:{type:"boolean",default:!0},lazy:{type:"boolean",default:!1},metafields:{type:"string",default:""},multiple_meta:{type:"string",default:""},summary:{type:"boolean",default:!0},summarylength:{type:"number"},keywords_title:{type:"string"},keywords_inc_on:{type:"string",default:"title"},keywords_ban:{type:"string"},keywords_exc_on:{type:"string",default:"title"},thumb:{type:"string",default:"auto"},default:{type:"object"},size:{type:"number",default:150},referral_url:{type:"string"},columns:{type:"number",default:1},template:{type:"string",default:"default"},price:{type:"boolean",default:!0},route:{type:"string",default:"home"},feedData:{type:"object"},categories:{type:"object"},from_datetime:{type:"string"},to_datetime:{type:"string"},itemTitle:{type:"boolean",default:!0},disableStyle:{type:"boolean",default:!1},follow:{type:"string",default:"no"},error_empty:{type:"string",default:""},className:{type:"string",default:""},_dryrun_:{type:"string",default:"no"},_dry_run_tags_:{type:"string",default:""},aspectRatio:{type:"string",default:"1"}},edit:k,save:()=>null})},485:(e,t)=>{var s;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var o=a.apply(null,s);o&&e.push(o)}}else if("object"===i){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var l in s)r.call(s,l)&&s[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)}()},454:e=>{"use strict";var t="%[a-f0-9]{2}",s=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var s=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(s),a(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(s),r=1;r<t.length;r++)t=(e=a(t,r).join("")).match(s);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},s=r.exec(e);s;){try{t[s[0]]=decodeURIComponent(s[0])}catch(e){var a=i(s[0]);a!==s[0]&&(t[s[0]]=a)}s=r.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),l=0;l<o.length;l++){var n=o[l];e=e.replace(new RegExp(n,"g"),t[n])}return e}(e)}}},55:e=>{"use strict";e.exports=function(e,t){for(var s={},r=Object.keys(e),a=Array.isArray(t),i=0;i<r.length;i++){var o=r[i],l=e[o];(a?-1!==t.indexOf(o):t(o,l,e))&&(s[o]=l)}return s}},663:(e,t,s)=>{"use strict";const r=s(280),a=s(454),i=s(528),o=s(55);function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function n(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function d(e,t){return t.decode?a(e):e}function p(e){return Array.isArray(e)?e.sort():"object"==typeof e?p(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const s=function(e){let t;switch(e.arrayFormat){case"index":return(e,s,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=s):r[e]=s};case"bracket":return(e,s,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],s):r[e]=[s]:r[e]=s};case"comma":case"separator":return(t,s,r)=>{const a="string"==typeof s&&s.includes(e.arrayFormatSeparator),i="string"==typeof s&&!a&&d(s,e).includes(e.arrayFormatSeparator);s=i?d(s,e):s;const o=a||i?s.split(e.arrayFormatSeparator).map((t=>d(t,e))):null===s?s:d(s,e);r[t]=o};case"bracket-separator":return(t,s,r)=>{const a=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!a)return void(r[t]=s?d(s,e):s);const i=null===s?[]:s.split(e.arrayFormatSeparator).map((t=>d(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,s)=>{void 0!==s[e]?s[e]=[].concat(s[e],t):s[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){if(""===a)continue;let[e,o]=i(t.decode?a.replace(/\+/g," "):a,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:d(o,t),s(d(e,t),o,r)}for(const e of Object.keys(r)){const s=r[e];if("object"==typeof s&&null!==s)for(const e of Object.keys(s))s[e]=f(s[e],t);else r[e]=f(s,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const s=r[t];return Boolean(s)&&"object"==typeof s&&!Array.isArray(s)?e[t]=p(s):e[t]=s,e}),Object.create(null))}t.extract=c,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const s=s=>t.skipNull&&null==e[s]||t.skipEmptyString&&""===e[s],r=function(e){switch(e.arrayFormat){case"index":return t=>(s,r)=>{const a=s.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?s:null===r?[...s,[n(t,e),"[",a,"]"].join("")]:[...s,[n(t,e),"[",n(a,e),"]=",n(r,e)].join("")]};case"bracket":return t=>(s,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?s:null===r?[...s,[n(t,e),"[]"].join("")]:[...s,[n(t,e),"[]=",n(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return s=>(r,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:(a=null===a?"":a,0===r.length?[[n(s,e),t,n(a,e)].join("")]:[[r,n(a,e)].join(e.arrayFormatSeparator)])}default:return t=>(s,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?s:null===r?[...s,n(t,e)]:[...s,[n(t,e),"=",n(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))s(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((s=>{const a=e[s];return void 0===a?"":null===a?n(s,t):Array.isArray(a)?0===a.length&&"bracket-separator"===t.arrayFormat?n(s,t)+"[]":a.reduce(r(s),[]).join("&"):n(s,t)+"="+n(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[s,r]=i(e,"#");return Object.assign({url:s.split("?")[0]||"",query:m(c(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:d(r,t)}:{})},t.stringifyUrl=(e,s)=>{s=Object.assign({encode:!0,strict:!0},s);const r=u(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),o=Object.assign(i,e.query);let l=t.stringify(o,s);l&&(l=`?${l}`);let d=function(e){let t="";const s=e.indexOf("#");return-1!==s&&(t=e.slice(s)),t}(e.url);return e.fragmentIdentifier&&(d=`#${n(e.fragmentIdentifier,s)}`),`${r}${l}${d}`},t.pick=(e,s,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:a,query:i,fragmentIdentifier:l}=t.parseUrl(e,r);return t.stringifyUrl({url:a,query:o(i,s),fragmentIdentifier:l},r)},t.exclude=(e,s,r)=>{const a=Array.isArray(s)?e=>!s.includes(e):(e,t)=>!s(e,t);return t.pick(e,a,r)}},528:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const s=e.indexOf(t);return-1===s?[e]:[e.slice(0,s),e.slice(s+t.length)]}},280:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}},s={};function r(e){var a=s[e];if(void 0!==a)return a.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,s,a,i)=>{if(!s){var o=1/0;for(p=0;p<e.length;p++){for(var[s,a,i]=e[p],l=!0,n=0;n<s.length;n++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](s[n])))?s.splice(n--,1):(l=!1,i<o&&(o=i));if(l){e.splice(p--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[s,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var a,i,[o,l,n]=s,d=0;if(o.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(n)var p=n(r)}for(t&&t(s);d<o.length;d++)i=o[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(p)},s=globalThis.webpackChunkfeedzy_rss_feeds=globalThis.webpackChunkfeedzy_rss_feeds||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=r.O(void 0,[350],(()=>r(356)));a=r.O(a)})();